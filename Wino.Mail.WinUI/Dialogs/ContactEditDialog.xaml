<ContentDialog
    x:Class="Wino.Dialogs.ContactEditDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:domain="using:Wino.Core.Domain"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="Edit Contact"
    HorizontalContentAlignment="Stretch"
    DefaultButton="Primary"
    IsPrimaryButtonEnabled="True"
    PrimaryButtonClick="SaveClicked"
    PrimaryButtonText="Save"
    SecondaryButtonClick="CancelClicked"
    SecondaryButtonText="Cancel"
    Style="{StaticResource WinoDialogStyle}"
    mc:Ignorable="d">

    <ContentDialog.Resources>
        <x:Double x:Key="ContentDialogMaxWidth">400</x:Double>
    </ContentDialog.Resources>

    <StackPanel Spacing="16">
        <!--  Contact Name  -->
        <TextBox
            x:Name="ContactNameTextBox"
            Header="Name"
            PlaceholderText="Contact name"
            TextChanged="ValidateInput" />

        <!--  Email Address  -->
        <TextBox
            x:Name="EmailAddressTextBox"
            Header="Email Address"
            PlaceholderText="contact@example.com"
            TextChanged="ValidateInput" />

        <!--  Contact Photo  -->
        <StackPanel>
            <TextBlock
                Margin="0,0,0,8"
                FontWeight="SemiBold"
                Text="Photo" />
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <PersonPicture
                    x:Name="ContactPhotoPersonPicture"
                    Grid.Column="0"
                    Width="64"
                    Height="64"
                    Margin="0,0,16,0" />

                <StackPanel
                    Grid.Column="1"
                    VerticalAlignment="Center"
                    Spacing="8">
                    <Button
                        x:Name="ChoosePhotoButton"
                        Click="ChoosePhotoClicked"
                        Content="Choose Photo" />
                    <Button
                        x:Name="RemovePhotoButton"
                        Click="RemovePhotoClicked"
                        Content="Remove Photo" />
                </StackPanel>
            </Grid>
        </StackPanel>

        <!--  Contact Status Info  -->
        <Border
            x:Name="RootContactInfoBorder"
            Padding="12,8"
            Background="{ThemeResource AccentFillColorDefaultBrush}"
            CornerRadius="4"
            Visibility="Collapsed">
            <TextBlock
                Foreground="{ThemeResource TextOnAccentFillColorPrimaryBrush}"
                Text="This is a root contact and cannot be deleted."
                TextWrapping="Wrap" />
        </Border>

        <Border
            x:Name="OverriddenContactInfoBorder"
            Padding="12,8"
            Background="{ThemeResource SystemFillColorCautionBrush}"
            CornerRadius="4"
            Visibility="Collapsed">
            <TextBlock
                Foreground="{ThemeResource TextFillColorPrimaryBrush}"
                Text="This contact has been manually modified."
                TextWrapping="Wrap" />
        </Border>
    </StackPanel>
</ContentDialog>
