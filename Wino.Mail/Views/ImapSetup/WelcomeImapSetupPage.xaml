<Page
    x:Class="Wino.Views.ImapSetup.WelcomeImapSetupPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Wino.Views.ImapSetup"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:domain="using:Wino.Core.Domain"
    mc:Ignorable="d">

    <Grid RowSpacing="4">
        <Grid x:Name="MainSetupPanel">
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <ScrollViewer x:Name="MainScrollviewer" Padding="{StaticResource ImapSetupDialogSubPagePadding}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <TextBlock
                        Text="{x:Bind domain:Translator.BasicIMAPSetupDialog_Title}"
                        Margin="1,0,0,0"
                        Style="{StaticResource TitleTextBlockStyle}" />

                    <TextBlock
                        Grid.Row="1"
                        Margin="0,12,0,0"
                        Text="{x:Bind domain:Translator.BasicIMAPSetupDialog_Description}" />

                    <HyperlinkButton
                        Grid.Row="2"
                        Margin="-1,0,0,0"
                        NavigateUri="https://go.microsoft.com/fwlink/?linkid=852269"
                        Padding="0"
                        Content="{x:Bind domain:Translator.BasicIMAPSetupDialog_LearnMore}" />

                    <StackPanel
                        Spacing="12"
                        Grid.Row="3"
                        Margin="0,12,0,0">
                        <TextBox
                            Header="{x:Bind domain:Translator.BasicIMAPSetupDialog_DisplayName}"
                            PlaceholderText="{x:Bind domain:Translator.BasicIMAPSetupDialog_DisplayNamePlaceholder}"
                            x:Name="DisplayNameBox" />

                        <TextBox
                            Header="{x:Bind domain:Translator.BasicIMAPSetupDialog_MailAddress}"
                            PlaceholderText="{x:Bind domain:Translator.BasicIMAPSetupDialog_MailAddressPlaceholder}"
                            x:Name="AddressBox" />

                        <PasswordBox Header="{x:Bind domain:Translator.BasicIMAPSetupDialog_Password}" x:Name="PasswordBox" />

                        <TextBlock Text="{x:Bind domain:Translator.BasicIMAPSetupDialog_CredentialLocalMessage}" />

                        <Button HorizontalAlignment="Right" Click="AdvancedConfigurationClicked">
                            <StackPanel Orientation="Horizontal" Spacing="6">
                                <PathIcon Data="F1 M 3.75 5 L 3.75 4.902344 C 3.75 4.225262 3.885091 3.588867 4.155273 2.993164 C 4.425456 2.397461 4.790039 1.878256 5.249023 1.435547 C 5.708008 0.99284 6.238606 0.642904 6.84082 0.385742 C 7.443034 0.128582 8.079427 0 8.75 0 C 9.420572 0 10.056966 0.128582 10.65918 0.385742 C 11.261393 0.642904 11.791992 0.99284 12.250977 1.435547 C 12.709961 1.878256 13.074544 2.397461 13.344727 2.993164 C 13.614908 3.588867 13.75 4.225262 13.75 4.902344 C 13.75 5.397137 13.689778 5.87077 13.569336 6.323242 C 13.448893 6.775717 13.258463 7.213542 12.998047 7.636719 C 12.229817 7.799479 11.510416 8.079428 10.839844 8.476562 C 10.169271 8.873698 9.583333 9.378256 9.082031 9.990234 C 9.042969 9.996745 9.005533 10 8.969727 10 C 8.933919 10 8.899739 10 8.867188 10 L 8.652344 10 C 7.97526 10 7.338867 9.864909 6.743164 9.594727 C 6.147461 9.324545 5.628255 8.959961 5.185547 8.500977 C 4.742838 8.041993 4.392903 7.511395 4.135742 6.90918 C 3.878581 6.306967 3.75 5.670573 3.75 5 Z M 12.5 5 L 12.5 4.921875 C 12.5 4.414062 12.399088 3.937176 12.197266 3.491211 C 11.995442 3.045248 11.722005 2.65625 11.376953 2.324219 C 11.0319 1.992188 10.633138 1.730145 10.180664 1.538086 C 9.728189 1.346029 9.251302 1.25 8.75 1.25 C 8.229166 1.25 7.740885 1.347656 7.285156 1.542969 C 6.829427 1.738281 6.432292 2.005209 6.09375 2.34375 C 5.755208 2.682293 5.488281 3.079428 5.292969 3.535156 C 5.097656 3.990887 5 4.479167 5 5 C 5 5.520834 5.097656 6.009115 5.292969 6.464844 C 5.488281 6.920573 5.755208 7.317709 6.09375 7.65625 C 6.432292 7.994792 6.829427 8.261719 7.285156 8.457031 C 7.740885 8.652344 8.229166 8.75 8.75 8.75 C 9.270833 8.75 9.759114 8.652344 10.214844 8.457031 C 10.670572 8.261719 11.067708 7.994792 11.40625 7.65625 C 11.744791 7.317709 12.011719 6.920573 12.207031 6.464844 C 12.402344 6.009115 12.5 5.520834 12.5 5 Z M 12.148438 19.365234 C 11.777344 19.208984 11.41276 19.010416 11.054688 18.769531 C 11.113281 18.561197 11.170247 18.357748 11.225586 18.15918 C 11.280924 17.960611 11.308594 17.753906 11.308594 17.539062 C 11.308594 17.252604 11.259766 16.977539 11.162109 16.713867 C 11.064453 16.450195 10.930989 16.210938 10.761719 15.996094 C 10.592447 15.78125 10.390625 15.597331 10.15625 15.444336 C 9.921875 15.291342 9.664713 15.182292 9.384766 15.117188 L 8.779297 14.980469 C 8.759766 14.778646 8.75 14.576823 8.75 14.375 C 8.75 14.179688 8.759766 13.977865 8.779297 13.769531 L 9.384766 13.632812 C 9.664713 13.567709 9.921875 13.458659 10.15625 13.305664 C 10.390625 13.15267 10.592447 12.96875 10.761719 12.753906 C 10.930989 12.539062 11.064453 12.299805 11.162109 12.036133 C 11.259766 11.772461 11.308594 11.497396 11.308594 11.210938 C 11.308594 10.996094 11.280924 10.789389 11.225586 10.59082 C 11.170247 10.392253 11.113281 10.188803 11.054688 9.980469 C 11.41276 9.739584 11.777344 9.541016 12.148438 9.384766 C 12.324219 9.560547 12.488606 9.720053 12.641602 9.863281 C 12.794596 10.006511 12.957356 10.131836 13.129883 10.239258 C 13.302408 10.34668 13.487955 10.429688 13.686523 10.488281 C 13.885091 10.546875 14.114583 10.576172 14.375 10.576172 C 14.635416 10.576172 14.866535 10.546875 15.068359 10.488281 C 15.270182 10.429688 15.455729 10.34668 15.625 10.239258 C 15.79427 10.131836 15.955402 10.006511 16.108398 9.863281 C 16.261393 9.720053 16.425781 9.560547 16.601562 9.384766 C 16.972656 9.541016 17.337238 9.739584 17.695312 9.980469 C 17.636719 10.188803 17.579752 10.392253 17.524414 10.59082 C 17.469074 10.789389 17.441406 10.996094 17.441406 11.210938 C 17.441406 11.497396 17.488605 11.772461 17.583008 12.036133 C 17.677408 12.299805 17.810871 12.539062 17.983398 12.753906 C 18.155924 12.96875 18.359375 13.15267 18.59375 13.305664 C 18.828125 13.458659 19.085285 13.567709 19.365234 13.632812 L 19.970703 13.769531 C 19.990234 13.977865 20 14.179688 20 14.375 C 20 14.576823 19.990234 14.778646 19.970703 14.980469 L 19.365234 15.117188 C 19.085285 15.182292 18.828125 15.291342 18.59375 15.444336 C 18.359375 15.597331 18.155924 15.78125 17.983398 15.996094 C 17.810871 16.210938 17.677408 16.450195 17.583008 16.713867 C 17.488605 16.977539 17.441406 17.252604 17.441406 17.539062 C 17.441406 17.753906 17.469074 17.960611 17.524414 18.15918 C 17.579752 18.357748 17.636719 18.561197 17.695312 18.769531 C 17.337238 19.010416 16.972656 19.208984 16.601562 19.365234 C 16.425781 19.189453 16.261393 19.029947 16.108398 18.886719 C 15.955402 18.74349 15.79427 18.618164 15.625 18.510742 C 15.455729 18.40332 15.270182 18.320312 15.068359 18.261719 C 14.866535 18.203125 14.635416 18.173828 14.375 18.173828 C 14.108072 18.173828 13.875324 18.203125 13.676758 18.261719 C 13.478189 18.320312 13.294271 18.40332 13.125 18.510742 C 12.955729 18.618164 12.794596 18.74349 12.641602 18.886719 C 12.488606 19.029947 12.324219 19.189453 12.148438 19.365234 Z M 0 13.75 C 0 13.404948 0.065104 13.081055 0.195312 12.77832 C 0.325521 12.475586 0.504557 12.210287 0.732422 11.982422 C 0.960286 11.754558 1.225586 11.575521 1.52832 11.445312 C 1.831055 11.315104 2.154948 11.25 2.5 11.25 L 8.251953 11.25 C 8.043619 11.660156 7.880859 12.076823 7.763672 12.5 L 2.5 12.5 C 2.324219 12.5 2.159831 12.532553 2.006836 12.597656 C 1.853841 12.662761 1.722005 12.750651 1.611328 12.861328 C 1.500651 12.972006 1.41276 13.103842 1.347656 13.256836 C 1.282552 13.409831 1.25 13.574219 1.25 13.75 C 1.25 14.420573 1.360677 15.008139 1.582031 15.512695 C 1.803385 16.017252 2.102865 16.455078 2.480469 16.826172 C 2.858073 17.197266 3.297526 17.50651 3.798828 17.753906 C 4.30013 18.001303 4.827474 18.198242 5.380859 18.344727 C 5.934244 18.491211 6.50065 18.595377 7.080078 18.657227 C 7.659505 18.719076 8.216146 18.75 8.75 18.75 L 9.072266 18.75 C 9.449869 19.199219 9.866536 19.5931 10.322266 19.931641 C 10.061849 19.964193 9.801432 19.983725 9.541016 19.990234 C 9.280599 19.996744 9.016927 20 8.75 20 C 8.190104 20 7.618814 19.973959 7.036133 19.921875 C 6.45345 19.869791 5.878906 19.775391 5.3125 19.638672 C 4.746094 19.501953 4.197591 19.319662 3.666992 19.091797 C 3.136393 18.863932 2.646484 18.574219 2.197266 18.222656 C 1.474609 17.66276 0.927734 17.005209 0.556641 16.25 C 0.185547 15.494792 0 14.661458 0 13.75 Z M 15.625 14.375 C 15.625 14.205729 15.592447 14.044597 15.527344 13.891602 C 15.462239 13.738607 15.372721 13.605144 15.258789 13.491211 C 15.144855 13.377279 15.011393 13.287761 14.858398 13.222656 C 14.705403 13.157553 14.544271 13.125 14.375 13.125 C 14.199219 13.125 14.036458 13.157553 13.886719 13.222656 C 13.736979 13.287761 13.605143 13.377279 13.491211 13.491211 C 13.377278 13.605144 13.28776 13.736979 13.222656 13.886719 C 13.157551 14.036459 13.124999 14.199219 13.125 14.375 C 13.124999 14.550781 13.157551 14.71517 13.222656 14.868164 C 13.28776 15.021159 13.37565 15.152995 13.486328 15.263672 C 13.597004 15.37435 13.72884 15.46224 13.881836 15.527344 C 14.03483 15.592448 14.199219 15.625 14.375 15.625 C 14.550781 15.625 14.713541 15.592448 14.863281 15.527344 C 15.01302 15.46224 15.144855 15.372722 15.258789 15.258789 C 15.372721 15.144857 15.462239 15.013021 15.527344 14.863281 C 15.592447 14.713542 15.625 14.550781 15.625 14.375 Z " />
                                <TextBlock Text="{x:Bind domain:Translator.BasicIMAPSetupDialog_AdvancedConfiguration}" />
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </Grid>
            </ScrollViewer>

            <!--  Buttons  -->
            <Grid
                Padding="{StaticResource ImapSetupDialogSubPagePadding}"
                Background="{ThemeResource ContentDialogBackground}"
                Grid.Row="1"
                VerticalAlignment="Bottom"
                ColumnSpacing="6">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Button
                    Content="{x:Bind domain:Translator.Buttons_SignIn}"
                    Click="SignInClicked"
                    Style="{ThemeResource AccentButtonStyle}"
                    HorizontalAlignment="Stretch" />

                <Button
                    Content="{x:Bind domain:Translator.Buttons_Cancel}"
                    Grid.Column="1"
                    HorizontalAlignment="Stretch"
                    Click="CancelClicked" />
            </Grid>
        </Grid>

        <!--  Auto Discovery In-Progress Panel  -->
        <StackPanel
            x:Name="AutoDiscoveryPanel"
            Visibility="Collapsed"
            VerticalAlignment="Center"
            HorizontalAlignment="Center">

            <Viewbox
                VerticalAlignment="Center"
                HorizontalAlignment="Center"
                Width="26"
                Height="26">
                <PathIcon Data="F1 M 20 10 C 20 10.924479 19.881184 11.811523 19.643555 12.661133 C 19.405924 13.510742 19.070637 14.306641 18.637695 15.048828 C 18.204752 15.791016 17.683918 16.466473 17.075195 17.075195 C 16.466471 17.68392 15.791016 18.204752 15.048828 18.637695 C 14.306641 19.070639 13.509114 19.405924 12.65625 19.643555 C 11.803385 19.881186 10.917969 20 10 20 C 9.075521 20 8.188477 19.881186 7.338867 19.643555 C 6.489257 19.405924 5.693359 19.070639 4.951172 18.637695 C 4.208984 18.204752 3.533528 17.68392 2.924805 17.075195 C 2.316081 16.466473 1.795247 15.791016 1.362305 15.048828 C 0.929362 14.306641 0.594076 13.509115 0.356445 12.65625 C 0.118815 11.803386 0 10.917969 0 10 C 0 9.082031 0.118815 8.196615 0.356445 7.34375 C 0.594076 6.490886 0.929362 5.693359 1.362305 4.951172 C 1.795247 4.208984 2.316081 3.533529 2.924805 2.924805 C 3.533528 2.316082 4.208984 1.795248 4.951172 1.362305 C 5.693359 0.929363 6.490885 0.594076 7.34375 0.356445 C 8.196614 0.118816 9.082031 0 10 0 C 10.917969 0 11.803385 0.118816 12.65625 0.356445 C 13.509114 0.594076 14.306641 0.929363 15.048828 1.362305 C 15.791016 1.795248 16.466471 2.316082 17.075195 2.924805 C 17.683918 3.533529 18.204752 4.208984 18.637695 4.951172 C 19.070637 5.693359 19.405924 6.490886 19.643555 7.34375 C 19.881184 8.196615 20 9.082031 20 10 Z M 6.630859 6.25 L 13.369141 6.25 C 13.317057 5.996094 13.242188 5.696615 13.144531 5.351562 C 13.046875 5.006511 12.926432 4.648438 12.783203 4.277344 C 12.639973 3.90625 12.475585 3.540039 12.290039 3.178711 C 12.104491 2.817383 11.896158 2.49349 11.665039 2.207031 C 11.433919 1.920574 11.180013 1.689453 10.90332 1.513672 C 10.626627 1.337891 10.325521 1.25 10 1.25 C 9.674479 1.25 9.373372 1.337891 9.09668 1.513672 C 8.819986 1.689453 8.56608 1.920574 8.334961 2.207031 C 8.103841 2.49349 7.895508 2.817383 7.709961 3.178711 C 7.524414 3.540039 7.360026 3.90625 7.216797 4.277344 C 7.073567 4.648438 6.953125 5.006511 6.855469 5.351562 C 6.757812 5.696615 6.682942 5.996094 6.630859 6.25 Z M 2.089844 6.25 L 5.351562 6.25 C 5.501302 5.442709 5.717773 4.654948 6.000977 3.886719 C 6.28418 3.11849 6.663411 2.39909 7.138672 1.728516 C 6.591797 1.897787 6.067708 2.132162 5.566406 2.431641 C 5.065104 2.731121 4.597981 3.079428 4.165039 3.476562 C 3.732096 3.873699 3.338216 4.306641 2.983398 4.775391 C 2.628581 5.244141 2.330729 5.735678 2.089844 6.25 Z M 12.861328 1.728516 C 13.336588 2.39909 13.71582 3.11849 13.999023 3.886719 C 14.282227 4.654948 14.498697 5.442709 14.648438 6.25 L 17.910156 6.25 C 17.66276 5.735678 17.363281 5.244141 17.011719 4.775391 C 16.660156 4.306641 16.267902 3.873699 15.834961 3.476562 C 15.402018 3.079428 14.934896 2.731121 14.433594 2.431641 C 13.932291 2.132162 13.408202 1.897787 12.861328 1.728516 Z M 5.15625 12.5 C 5.097656 12.083334 5.056966 11.668295 5.03418 11.254883 C 5.011393 10.841472 5 10.423178 5 10 C 5 9.576823 5.011393 9.158529 5.03418 8.745117 C 5.056966 8.331706 5.097656 7.916667 5.15625 7.5 L 1.611328 7.5 C 1.494141 7.910156 1.404622 8.32194 1.342773 8.735352 C 1.280924 9.148764 1.25 9.570312 1.25 10 C 1.25 10.429688 1.280924 10.851237 1.342773 11.264648 C 1.404622 11.678061 1.494141 12.089844 1.611328 12.5 Z M 13.59375 12.5 C 13.652343 12.083334 13.693033 11.668295 13.71582 11.254883 C 13.738606 10.841472 13.75 10.423178 13.75 10 C 13.75 9.576823 13.738606 9.158529 13.71582 8.745117 C 13.693033 8.331706 13.652343 7.916667 13.59375 7.5 L 6.40625 7.5 C 6.347656 7.916667 6.306966 8.331706 6.28418 8.745117 C 6.261393 9.158529 6.25 9.576823 6.25 10 C 6.25 10.423178 6.261393 10.841472 6.28418 11.254883 C 6.306966 11.668295 6.347656 12.083334 6.40625 12.5 Z M 18.388672 7.5 L 14.84375 7.5 C 14.902344 7.916667 14.943033 8.331706 14.96582 8.745117 C 14.988605 9.158529 14.999999 9.576823 15 10 C 14.999999 10.423178 14.988605 10.841472 14.96582 11.254883 C 14.943033 11.668295 14.902344 12.083334 14.84375 12.5 L 18.388672 12.5 C 18.505859 12.089844 18.595377 11.678061 18.657227 11.264648 C 18.719074 10.851237 18.75 10.429688 18.75 10 C 18.75 9.570312 18.719074 9.148764 18.657227 8.735352 C 18.595377 8.32194 18.505859 7.910156 18.388672 7.5 Z M 7.138672 18.271484 C 6.663411 17.600912 6.28418 16.88151 6.000977 16.113281 C 5.717773 15.345053 5.501302 14.557292 5.351562 13.75 L 2.089844 13.75 C 2.330729 14.257812 2.626953 14.747722 2.978516 15.219727 C 3.330078 15.691732 3.723958 16.124676 4.160156 16.518555 C 4.596354 16.912436 5.065104 17.260742 5.566406 17.563477 C 6.067708 17.866211 6.591797 18.102213 7.138672 18.271484 Z M 13.369141 13.75 L 6.630859 13.75 C 6.682942 14.003906 6.757812 14.303386 6.855469 14.648438 C 6.953125 14.99349 7.073567 15.351562 7.216797 15.722656 C 7.360026 16.09375 7.524414 16.459961 7.709961 16.821289 C 7.895508 17.182617 8.103841 17.50651 8.334961 17.792969 C 8.56608 18.079428 8.819986 18.310547 9.09668 18.486328 C 9.373372 18.662109 9.674479 18.75 10 18.75 C 10.325521 18.75 10.626627 18.662109 10.90332 18.486328 C 11.180013 18.310547 11.433919 18.079428 11.665039 17.792969 C 11.896158 17.50651 12.104491 17.182617 12.290039 16.821289 C 12.475585 16.459961 12.639973 16.09375 12.783203 15.722656 C 12.926432 15.351562 13.046875 14.99349 13.144531 14.648438 C 13.242188 14.303386 13.317057 14.003906 13.369141 13.75 Z M 17.910156 13.75 L 14.648438 13.75 C 14.498697 14.557292 14.282227 15.345053 13.999023 16.113281 C 13.71582 16.88151 13.336588 17.600912 12.861328 18.271484 C 13.408202 18.102213 13.932291 17.867838 14.433594 17.568359 C 14.934896 17.268881 15.402018 16.920572 15.834961 16.523438 C 16.267902 16.126303 16.660156 15.693359 17.011719 15.224609 C 17.363281 14.755859 17.66276 14.264323 17.910156 13.75 Z " />
            </Viewbox>

            <TextBlock Text="{x:Bind domain:Translator.AutoDiscoveryProgressMessage}" />
            <muxc:ProgressBar IsIndeterminate="True" Margin="0,4,0,0" />
        </StackPanel>
    </Grid>
</Page>
